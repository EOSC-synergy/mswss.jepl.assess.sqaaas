{
    "meta": {
        "version": "2.9.3",
        "report_json_url": "https://raw.githubusercontent.com/eosc-synergy/mswss.jepl.assess.sqaaas/main/.report/assessment_output.json"
    },
    "repository": [
        {
            "tag": "main",
            "commit_id": "ffdab04cba1b2e4ecb61665dd9f2c90018802c01",
            "name": "EOSC-synergy/mswss.jepl",
            "url": "https://github.com/EOSC-synergy/mswss.jepl",
            "avatar_url": "https://avatars.githubusercontent.com/u/57723286?v=4",
            "description": null,
            "languages": null,
            "topics": null,
            "stargazers_count": null,
            "watchers_count": null,
            "contributors_count": null,
            "forks_count": null
        }
    ],
    "report": {
        "SvcQC.Dep": {
            "valid": false,
            "subcriteria": {
                "SvcQC.Dep01": {
                    "description": "Can the service be deployed automatically (e.g. via IaC solution)?",
                    "requirement_level": "SHOULD",
                    "hint": "<p>SQAaaS relies on a code repository that contains the recipes for the deployment of the computing services. As such, you need to provide the repo and (relative) path to the main configuration file.</p><p>The current set of deployment tools supported by the SQAaaS are: <a href=\"https://www.grycap.upv.es/im\" target=\"_blank\">Infrastructure Manager (IM)</a> and <a href=\"https://www.grycap.upv.es/ec3/index.html\" target=\"_blank\">Elastic Cloud Computing Cluster (EC3)</a>",
                    "evidence": [
                        {
                            "valid": false,
                            "message": "The service failed to be deployed using Infrastructure Manager (IM) solution",
                            "plugin": {
                                "name": "report2sqaaas-plugin-jenkins_exit_status",
                                "version": "1.2.0"
                            },
                            "tool": {
                                "name": "im_client",
                                "lang": "Infrastructure Manager",
                                "version": "1.5.11",
                                "docker": {
                                    "image": "grycap/im-client:ec3",
                                    "reviewed": "2022-05-26",
                                    "entrypoint": [
                                        "/bin/sleep",
                                        "infinity"
                                    ],
                                    "environment": [
                                        "OPENSTACK_USER",
                                        "OPENSTACK_PASS",
                                        "IM_USER",
                                        "IM_PASS"
                                    ]
                                },
                                "ci": {
                                    "name": "SvcQC.Dep this_repo",
                                    "status": "FAILED",
                                    "stdout_command": [],
                                    "stdout_text": "Generated auth.dat file:\n-rw-r--r--    1 root     root           379 Nov  7 13:29 /im/auth.dat\n\nPrinting IM config file: ./IM/mswss-infrastructure-static.radl\nnetwork public ( outbound = 'yes' and\noutports = '8443/tcp,1194/udp,8800/tcp' )\nnetwork private ( outports = '1194/udp' )\nsystem front (\nnet_interface.0.connection = 'private' and\nnet_interface.0.dns_name = 'slurmserver' and\nnet_interface.1.connection = 'public' and\nnet_interface.1.dns_name = 'slurmserverpublic' and\nqueue_system = 'slurm' and\ndisk.0.applications contains (name = 'ansible.modules.grycap.openvpn') and\ndisk.0.applications contains (name = 'ansible.modules.grycap.slurm') and\ndisk.0.applications contains (name = 'ansible.modules.grycap.galaxy') and\ndisk.0.applications contains (name = 'ansible.modules.grycap.nfs') and\ncpu.count >= 4 and\nmemory.size >= 8g and\ndisk.0.image.url = 'ost://stratus.ncg.ingrid.pt/97624935-200f-4670-9ea8-c65282adbe56'\n)\n\nsystem wn (\nnet_interface.0.connection = 'private' and\ndisk.0.image.url = 'ost://stratus.ncg.ingrid.pt/97624935-200f-4670-9ea8-c65282adbe56' and\ncpu.count >= 2 and\nmemory.size >= 4g\n)\n\nconfigure front (\n@begin\n\n- pre_tasks:\n  - name: Wait for any possibly running unattended upgrade to finish\n    raw: sudo systemd-run --property=\"After=apt-daily.service apt-daily-upgrade.service\" --wait /bin/true\n  - apt: pkg=firewalld\n    name: Install firewalld in Debian systems\n    when: ansible_os_family == \"Debian\"\n  - name: Start firewalld\n    service: name=firewalld state=started enabled=yes\n  roles:\n  - openvpn_frontname: '{{FRONTEND}}'\n    openvpn_type_of_node: front\n    role: grycap.openvpn\n  - role: grycap.munge\n  tasks:\n  - firewalld:\n      immediate: true\n      permanent: true\n      source: 10.8.0.0/24\n      state: enabled\n      zone: trusted\n    name: Enable VPN subnet in firewalld\n  vars:\n    FRONTEND: slurmserver\n- tasks:\n  - firewalld:\n      immediate: true\n      permanent: true\n      port: '{{item}}'\n      state: enabled\n    ignore_errors: true\n    with_items: '{{OUTPORTS.split('','')}}'\n  vars:\n    OUTPORTS: 8443/tcp,1194/udp,8800/tcp\n- roles:\n  - nfs_exports:\n    - export: vnode-*.localdomain(rw,async,no_root_squash,no_subtree_check,insecure)\n      path: /home\n    nfs_mode: front\n    role: grycap.nfs\n    when: QUEUE_SYSTEM != 'local'\n#  - max_number_of_nodes: '{{NNODES}}'\n#    role: grycap.slurm\n#    slurm_type_of_node: front\n#    slurm_wn_nodenames: '{{ groups[\"wn\"]|map(\"extract\", hostvars, \"ansible_hostname\")|list if \"wn\" in groups else [] }}'\n#    slurm_vnode_prefix: vnode-\n#    templates: '{{TEMPLATES}}'\n#  - galaxy_export_dir: /home/export\n#    galaxy_lrms: '{{ QUEUE_SYSTEM }}'\n#    galaxy_slurm_server_name: '{{ hostvars[groups[\"front\"][0]][\"IM_NODE_PRIVATE_IP\"]\n#      }}'\n#    role: grycap.galaxy\n#    slurm_galaxy_docker_env_vars:\n#      GALAXY_CONFIG_JOB_CONFIG_FILE: /export/slurm_job_conf.xml\n#      GALAXY_DESTINATIONS_DEFAULT: slurm_cluster\n#      NONUSE: reports,slurmctld,nodejs,condor,slurmd\n  vars:\n    NNODES: 1\n    QUEUE_SYSTEM: slurm\n    SYSTEMS:\n    - class: system\n      cpu.count_max: inf\n      cpu.count_min: 4\n      disk.0.applications:\n      - name: ansible.modules.grycap.openvpn\n      - name: ansible.modules.grycap.slurm\n      - name: ansible.modules.grycap.galaxy\n      - name: ansible.modules.grycap.nfs\n      id: front\n      memory.size_max: inf\n      memory.size_min: 8589934592\n      net_interface.0.connection:\n        class: network\n        id: private\n        reference: true\n      net_interface.0.dns_name: slurmserver\n      net_interface.1.connection:\n        class: network\n        id: public\n        reference: true\n      net_interface.1.dns_name: slurmserverpublic\n      queue_system: slurm\n    - class: network\n      id: private\n      outports:\n      - 1194/udp\n    - class: network\n      id: public\n      outbound: 'yes'\n      outports:\n      - 8443/tcp\n      - 1194/udp\n      - 8800/tcp\n    - class: system\n      cpu.count_max: inf\n      cpu.count_min: 2\n      id: wn\n      memory.size_max: inf\n      memory.size_min: 4294967296\n      net_interface.0.connection:\n        class: network\n        id: private\n        reference: true\n    TEMPLATES:\n    - slurm\n    - openvpn\n\n\n@end\n)\nconfigure wn (\n@begin\n\n- pre_tasks:\n  - name: Wait for any possibly running unattended upgrade to finish\n    raw: sudo systemd-run --property=\"After=apt-daily.service apt-daily-upgrade.service\" --wait /bin/true\n  - name: Install firewalld in Debian systems\n    raw: sudo apt install -y firewalld\n    when: ansible_os_family == \"Debian\"\n  - name: Start firewalld\n    service: name=firewalld state=started enabled=yes\n  - firewalld:\n      immediate: true\n      permanent: true\n      source: 10.8.0.1/32\n      state: enabled\n      zone: trusted\n    name: Enable VPN subnet in firewalld\n  - name: Install OpenVPN\n    raw: sudo apt install -y openvpn\n  roles:\n  - openvpn_front_ip: '{{ hostvars[groups[\"front\"][0]][\"IM_NODE_PRIVATE_IP\"] }}'\n    openvpn_frontname: '{{FRONTEND}}'\n    openvpn_type_of_node: wn\n    role: grycap.openvpn\n  vars:\n    FRONTEND: slurmserver\n- tasks:\n  - firewalld:\n      immediate: true\n      permanent: true\n      port: '{{item}}'\n      state: enabled\n    ignore_errors: true\n    with_items: '{{OUTPORTS.split('','')}}'\n  vars:\n    OUTPORTS: 8443/tcp,1194/udp,8800/tcp\n- roles:\n  - nfs_client_imports:\n    - local: /home\n      remote: /home\n      server_host: '{{ FRONTEND }}'\n    nfs_mode: wn\n    role: grycap.nfs\n#  - galaxy_export_dir: /home/export\n#    galaxy_node_type: wn\n#    role: grycap.galaxy\n  vars:\n    FRONTEND: slurmserver\n#- roles:\n#  - role: grycap.slurm\n#    slurm_type_of_node: wn\n\n\n\n@end\n)\ncontextualize  (\nsystem front configure front step 1 \nsystem wn configure wn step 2 \n)\ndeploy front 1\ndeploy wn 1im_client.py create_wait_outputs return code: 1\nInfrastructure Manager output:\nSecure connection with: https://appsgrycap.i3m.upv.es:31443/im/\nThe infrastructure is in state: pending. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\nThe infrastructure is in state: running. Wait ...\n{\"infid\": \"a328a640-7d71-11ee-b27a-76289a2b9aae\", \"error\": \"The infrastructure is in state: unconfigured\"}\nInfrastructure Manager output (only json part):\n{\"infid\": \"a328a640-7d71-11ee-b27a-76289a2b9aae\", \"error\": \"The infrastructure is in state: unconfigured\"}\n\nINFID=a328a640-7d71-11ee-b27a-76289a2b9aae\nDeployment failed. Logs:\nSecure connection with: https://appsgrycap.i3m.upv.es:31443/im/\nMsg Contextualizator: \n\n2023-11-07 13:30:20.187100: Select master VM\n2023-11-07 13:30:20.189561: Wait master VM to boot\n2023-11-07 13:30:20.190925: Wait master VM to have the SSH active.\n2023-11-07 13:30:45.363092: Creating and copying Ansible playbook files\n2023-11-07 13:30:46.472072: Galaxy role grycap.slurm detected setting to install.\n2023-11-07 13:30:46.472462: Galaxy role grycap.galaxy detected setting to install.\n2023-11-07 13:30:46.472641: Galaxy role grycap.nfs detected setting to install.\n2023-11-07 13:30:46.472793: Galaxy role grycap.openvpn detected setting to install.\n2023-11-07 13:30:46.472884: Performing preliminary steps to configure Ansible.\n2023-11-07 13:30:46.569302: Configure Ansible in the master VM.\n2023-11-07 13:33:57.802602: Ansible successfully configured in the master VM.\n2023-11-07 13:34:06.646758: Copying YAML, hosts and inventory files.\nVM 0:\nContextualization agent output processed successfullyGenerate and copy the ssh key\nb''\nSleeping 0 secs.\nLaunch task: wait_all_ssh\nWaiting SSH access to VM: 194.210.120.184\nTesting SSH access to VM: 10.0.0.106:22\nRemote access to VM: 194.210.120.184 Open!\nChanging the IP 10.0.0.106 for 194.210.120.184 in config files.\nWaiting SSH access to VM: 10.0.0.182\nTesting SSH access to VM: 10.0.0.182:22\nRemote access to VM: 10.0.0.182 Open!\nTask wait_all_ssh finished successfully\nProcess finished\nContextualization agent output processed successfullyGenerate and copy the ssh key\nSleeping 0 secs.\nLaunch task: basic\nWaiting SSH access to VM: 194.210.120.184\nTesting SSH access to VM: 10.0.0.106:22\nRemote access to VM: 194.210.120.184 Open!\nRequiretty successfully removed\nInstall grycap.slurm with ansible-galaxy.\nInstall grycap.galaxy with ansible-galaxy.\nInstall grycap.nfs with ansible-galaxy.\nInstall grycap.openvpn with ansible-galaxy.\nGalaxy depencies file: [{src: grycap.slurm}, {src: grycap.galaxy}, {src: grycap.nfs}, {src: grycap.openvpn}]\n\nCall Ansible\n\nPLAY [194.210.120.184_0] *******************************************************\n\nTASK [Avoid unattended upgrades] ***********************************************\nTuesday 07 November 2023  13:34:18.674416 \nok: [194.210.120.184_0]\n\nTASK [Wait the VM to boot] *****************************************************\nTuesday 07 November 2023  13:34:18.727071 \nfatal: [194.210.120.184_0]: FAILED! => {\"changed\": false, \"msg\": \"non-zero return code\", \"rc\": 1, \"stderr\": \"\", \"stderr_lines\": [], \"stdout\": \"degraded\\n\", \"stdout_lines\": [\"degraded\"]}\n...ignoring\n\nTASK [Check Python2 is installed] **********************************************\nTuesday 07 November 2023  13:34:18.759132 \nfatal: [194.210.120.184_0]: FAILED! => {\"changed\": false, \"msg\": \"non-zero return code\", \"rc\": 127, \"stderr\": \"/bin/sh: 1: python2: not found\\n\", \"stderr_lines\": [\"/bin/sh: 1: python2: not found\"], \"stdout\": \"\", \"stdout_lines\": []}\n...ignoring\n\nTASK [Check Python3 is installed] **********************************************\nTuesday 07 November 2023  13:34:18.788995 \nok: [194.210.120.184_0]\n\nTASK [Bootstrap with python Debian/Ubuntu] *************************************\nTuesday 07 November 2023  13:34:18.841414 \nskipping: [194.210.120.184_0]\n\nTASK [Link correct python version in Ubuntu 14] ********************************\nTuesday 07 November 2023  13:34:18.878974 \nskipping: [194.210.120.184_0]\n\nTASK [Bootstrap with python RedHat/CentOS] *************************************\nTuesday 07 November 2023  13:34:18.912166 \nskipping: [194.210.120.184_0]\n\nTASK [RedHat/CentOS install python3-dnf] ***************************************\nTuesday 07 November 2023  13:34:18.949201 \nfatal: [194.210.120.184_0]: FAILED! => {\"ansible_facts\": {\"discovered_interpreter_python\": \"/usr/bin/python\"}, \"changed\": true, \"cmd\": [\"sudo\", \"yum\", \"install\", \"-y\", \"python3\", \"python3-dnf\"], \"delta\": \"0:00:00.005577\", \"deprecations\": [{\"msg\": \"Distribution Ubuntu 18.04 on host 194.210.120.184_0 should use /usr/bin/python3, but is using /usr/bin/python for backward compatibility with prior Ansible releases. A future Ansible release will default to using the discovered platform python for this host. See https://docs.ansible.com/ansible-core/2.11/reference_appendices/interpreter_discovery.html for more information\", \"version\": \"2.12\"}], \"end\": \"2023-11-07 13:34:19.317870\", \"msg\": \"non-zero return code\", \"rc\": 1, \"start\": \"2023-11-07 13:34:19.312293\", \"stderr\": \"sudo: yum: command not found\", \"stderr_lines\": [\"sudo: yum: command not found\"], \"stdout\": \"\", \"stdout_lines\": []}\n...ignoring\n\nTASK [Bootstrap with python SUSE] **********************************************\nTuesday 07 November 2023  13:34:19.349622 \nskipping: [194.210.120.184_0]\n\nTASK [Link python 3 or 2 in case is needed] ************************************\nTuesday 07 November 2023  13:34:19.377024 \nchanged: [194.210.120.184_0]\n\nTASK [Install libselinux-python3 on RH systems] ********************************\nTuesday 07 November 2023  13:34:19.421538 \nfatal: [194.210.120.184_0]: FAILED! => {\"changed\": true, \"msg\": \"non-zero return code\", \"rc\": 127, \"stderr\": \"/bin/sh: 1: yum: not found\\n\", \"stderr_lines\": [\"/bin/sh: 1: yum: not found\"], \"stdout\": \"/usr/bin/python3\\n\", \"stdout_lines\": [\"/usr/bin/python3\"]}\n...ignoring\n\nTASK [Install libselinux-python on RH systems] *********************************\nTuesday 07 November 2023  13:34:19.462641 \nfatal: [194.210.120.184_0]: FAILED! => {\"changed\": true, \"msg\": \"non-zero return code\", \"rc\": 2, \"stderr\": \"ls: cannot access '/usr/bin/python2': No such file or directory\\n\", \"stderr_lines\": [\"ls: cannot access '/usr/bin/python2': No such file or directory\"], \"stdout\": \"\", \"stdout_lines\": []}\n...ignoring\n\nTASK [Set the hostname of the node] ********************************************\nTuesday 07 November 2023  13:34:19.504083 \nchanged: [194.210.120.184_0]\n[DEPRECATION WARNING]: Distribution Ubuntu 18.04 on host 194.210.120.184_0 \nshould use /usr/bin/python3, but is using /usr/bin/python for backward \ncompatibility with prior Ansible releases. A future Ansible release will \ndefault to using the discovered platform python for this host. See \nhttps://docs.ansible.com/ansible-\ncore/2.11/reference_appendices/interpreter_discovery.html for more information.\n This feature will be removed in version 2.12. Deprecation warnings can be \ndisabled by setting deprecation_warnings=False in ansible.cfg.\n\nTASK [Disable SELinux in REL systems] ******************************************\nTuesday 07 November 2023  13:34:20.516658 \nAn exception occurred during task execution. To see the full traceback, use -vvv. The error was: ModuleNotFoundError: No module named 'selinux'\nfatal: [194.210.120.184_0]: FAILED! => {\"changed\": false, \"msg\": \"Failed to import the required Python library (libselinux-python) on slurmserver.localdomain's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter\"}\n...ignoring\n\nTASK [Add the authorized_key to the nodes] *************************************\nTuesday 07 November 2023  13:34:21.259429 \nchanged: [194.210.120.184_0]\n\nTASK [Add the authorized_key to the nodes again] *******************************\nTuesday 07 November 2023  13:34:21.894147 \nfatal: [194.210.120.184_0]: FAILED! => {\"changed\": false, \"msg\": \"Destination /home/cloudadm/.ssh/authorized_keys does not exist !\", \"rc\": 257}\n...ignoring\n\nTASK [Gather Facts] ************************************************************\nTuesday 07 November 2023  13:34:22.262550 \nok: [194.210.120.184_0]\n\nTASK [Ubuntu apt update] *******************************************************\nTuesday 07 November 2023  13:34:23.231019 \nok: [194.210.120.184_0]\n\nTASK [Ubuntu force apt update (avoid apt lock)] ********************************\nTuesday 07 November 2023  13:34:25.232212 \nskipping: [194.210.120.184_0]\n\nTASK [Create YAML file to install the roles with ansible-galaxy] ***************\nTuesday 07 November 2023  13:34:25.266766 \nchanged: [194.210.120.184_0]\n\nTASK [Install galaxy roles] ****************************************************\nTuesday 07 November 2023  13:34:25.970598 \nchanged: [194.210.120.184_0]\n\nPLAY RECAP *********************************************************************\n194.210.120.184_0          : ok=16   changed=8    unreachable=0    failed=0   \n194.210.120.184_0          : ok=16   changed=8    unreachable=0    failed=0   \n\nTask basic finished successfully\nProcess finished\nContextualization agent output processed successfullyGenerate and copy the ssh key\nSleeping 0 secs.\nLaunch task: main_front\nCall Ansible\n\nPLAY [allnowindows] ************************************************************\n\nTASK [Gathering Facts] *********************************************************\nTuesday 07 November 2023  13:35:33.788143 \nok: [194.210.120.184_0]\nok: [10.0.0.182_1]\n\nPLAY [194.210.120.184_0] *******************************************************\n\nTASK [include_tasks] ***********************************************************\nTuesday 07 November 2023  13:35:34.930241 \nok: [194.210.120.184_0]\nincluded: /var/tmp/.im/a328a640-7d71-11ee-b27a-76289a2b9aae/utils/tasks/main.yml for 194.210.120.184_0\n\nTASK [Copy the original /etc/hosts] ********************************************\nTuesday 07 November 2023  13:35:34.979456 \nchanged: [194.210.120.184_0]\n\nTASK [Copy the /etc/hosts] *****************************************************\nTuesday 07 November 2023  13:35:35.332282 \nchanged: [194.210.120.184_0]\n\nTASK [Merge /etc/hosts] ********************************************************\nTuesday 07 November 2023  13:35:36.013092 \nchanged: [194.210.120.184_0]\n\nTASK [Copy the /etc/hosts in windows native] ***********************************\nTuesday 07 November 2023  13:35:36.241111 \nskipping: [194.210.120.184_0]\n\nTASK [Set BEARER_TOKEN environment variable] ***********************************\nTuesday 07 November 2023  13:35:36.270255 \nskipping: [194.210.120.184_0]\n\nTASK [debug] *******************************************************************\nTuesday 07 November 2023  13:35:36.313925 \nok: [194.210.120.184_0] => {\n    \"changed\": false,\n    \"msg\": \"Install user requested apps\"\n}\n\nPLAY RECAP *********************************************************************\n10.0.0.182_1               : ok=1    changed=0    unreachable=0    failed=0   \n10.0.0.182_1               : ok=1    changed=0    unreachable=0    failed=0   \n194.210.120.184_0          : ok=6    changed=3    unreachable=0    failed=0   \n194.210.120.184_0          : ok=6    changed=3    unreachable=0    failed=0   \n\nTask main_front finished successfully\nProcess finished\nContextualization agent output processed successfullyGenerate and copy the ssh key\nSleeping 0 secs.\nLaunch task: front_front\nCall Ansible\nERROR: the role 'grycap.munge' was not found in /var/tmp/.im/a328a640-7d71-11ee-b27a-76289a2b9aae/roles:/etc/ansible/roles:/var/tmp/.im/a328a640-7d71-11ee-b27a-76289a2b9aae\n\nThe error appears to be in '/var/tmp/.im/a328a640-7d71-11ee-b27a-76289a2b9aae/front_front_task.yml': line 17, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n    role: grycap.openvpn\n  - role: grycap.munge\n    ^ here\n\nERROR executing playbook (1/1)\nERROR executing task front_front: (1/3)\nSleeping 5 secs.\nLaunch task: front_front\nCall Ansible\nERROR: the role 'grycap.munge' was not found in /var/tmp/.im/a328a640-7d71-11ee-b27a-76289a2b9aae/roles:/etc/ansible/roles:/var/tmp/.im/a328a640-7d71-11ee-b27a-76289a2b9aae\n\nThe error appears to be in '/var/tmp/.im/a328a640-7d71-11ee-b27a-76289a2b9aae/front_front_task.yml': line 17, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n    role: grycap.openvpn\n  - role: grycap.munge\n    ^ here\n\nERROR executing playbook (1/1)\nERROR executing task front_front: (2/3)\nSleeping 20 secs.\nLaunch task: front_front\nCall Ansible\nERROR: the role 'grycap.munge' was not found in /var/tmp/.im/a328a640-7d71-11ee-b27a-76289a2b9aae/roles:/etc/ansible/roles:/var/tmp/.im/a328a640-7d71-11ee-b27a-76289a2b9aae\n\nThe error appears to be in '/var/tmp/.im/a328a640-7d71-11ee-b27a-76289a2b9aae/front_front_task.yml': line 17, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n    role: grycap.openvpn\n  - role: grycap.munge\n    ^ here\n\nERROR executing playbook (1/1)\nERROR executing task front_front: (3/3)\n\n***************************************************************************\nVM 1:\nContextualization agent output processed successfullyGenerate and copy the ssh key\nSleeping 0 secs.\nLaunch task: basic\nWaiting SSH access to VM: 10.0.0.182\nTesting SSH access to VM: 10.0.0.182:22\nRemote access to VM: 10.0.0.182 Open!\nRemoving requiretty to VM: 10.0.0.182\nOUT: \nRequiretty successfully removed\nCall Ansible\n\nPLAY [10.0.0.182_1] ************************************************************\n\nTASK [Avoid unattended upgrades] ***********************************************\nTuesday 07 November 2023  13:34:19.534230 \nok: [10.0.0.182_1]\n\nTASK [Wait the VM to boot] *****************************************************\nTuesday 07 November 2023  13:34:20.385920 \nfatal: [10.0.0.182_1]: FAILED! => {\"changed\": false, \"msg\": \"non-zero return code\", \"rc\": 1, \"stderr\": \"Shared connection to 10.0.0.182 closed.\\r\\n\", \"stderr_lines\": [\"Shared connection to 10.0.0.182 closed.\"], \"stdout\": \"degraded\\r\\n\", \"stdout_lines\": [\"degraded\"]}\n...ignoring\n\nTASK [Check Python2 is installed] **********************************************\nTuesday 07 November 2023  13:34:20.458456 \nfatal: [10.0.0.182_1]: FAILED! => {\"changed\": false, \"msg\": \"non-zero return code\", \"rc\": 127, \"stderr\": \"Shared connection to 10.0.0.182 closed.\\r\\n\", \"stderr_lines\": [\"Shared connection to 10.0.0.182 closed.\"], \"stdout\": \"sh: 1: python2: not found\\r\\n\", \"stdout_lines\": [\"sh: 1: python2: not found\"]}\n...ignoring\n\nTASK [Check Python3 is installed] **********************************************\nTuesday 07 November 2023  13:34:20.523908 \nok: [10.0.0.182_1]\n\nTASK [Bootstrap with python Debian/Ubuntu] *************************************\nTuesday 07 November 2023  13:34:20.613288 \nskipping: [10.0.0.182_1]\n\nTASK [Link correct python version in Ubuntu 14] ********************************\nTuesday 07 November 2023  13:34:20.658949 \nskipping: [10.0.0.182_1]\n\nTASK [Bootstrap with python RedHat/CentOS] *************************************\nTuesday 07 November 2023  13:34:20.706583 \nskipping: [10.0.0.182_1]\n\nTASK [RedHat/CentOS install python3-dnf] ***************************************\nTuesday 07 November 2023  13:34:20.757684 \nfatal: [10.0.0.182_1]: FAILED! => {\"ansible_facts\": {\"discovered_interpreter_python\": \"/usr/bin/python3\"}, \"changed\": true, \"cmd\": [\"sudo\", \"yum\", \"install\", \"-y\", \"python3\", \"python3-dnf\"], \"delta\": \"0:00:00.008104\", \"end\": \"2023-11-07 13:34:21.761848\", \"msg\": \"non-zero return code\", \"rc\": 1, \"start\": \"2023-11-07 13:34:21.753744\", \"stderr\": \"sudo: yum: command not found\", \"stderr_lines\": [\"sudo: yum: command not found\"], \"stdout\": \"\", \"stdout_lines\": []}\n...ignoring\n\nTASK [Bootstrap with python SUSE] **********************************************\nTuesday 07 November 2023  13:34:21.359225 \nskipping: [10.0.0.182_1]\n\nTASK [Link python 3 or 2 in case is needed] ************************************\nTuesday 07 November 2023  13:34:21.387858 \nchanged: [10.0.0.182_1]\n\nTASK [Install libselinux-python3 on RH systems] ********************************\nTuesday 07 November 2023  13:34:21.500162 \nfatal: [10.0.0.182_1]: FAILED! => {\"changed\": true, \"msg\": \"non-zero return code\", \"rc\": 127, \"stderr\": \"Shared connection to 10.0.0.182 closed.\\r\\n\", \"stderr_lines\": [\"Shared connection to 10.0.0.182 closed.\"], \"stdout\": \"/usr/bin/python3\\r\\n/bin/sh: 1: yum: not found\\r\\n\", \"stdout_lines\": [\"/usr/bin/python3\", \"/bin/sh: 1: yum: not found\"]}\n...ignoring\n\nTASK [Install libselinux-python on RH systems] *********************************\nTuesday 07 November 2023  13:34:21.595075 \nfatal: [10.0.0.182_1]: FAILED! => {\"changed\": true, \"msg\": \"non-zero return code\", \"rc\": 2, \"stderr\": \"Shared connection to 10.0.0.182 closed.\\r\\n\", \"stderr_lines\": [\"Shared connection to 10.0.0.182 closed.\"], \"stdout\": \"ls: cannot access '/usr/bin/python2': No such file or directory\\r\\n\", \"stdout_lines\": [\"ls: cannot access '/usr/bin/python2': No such file or directory\"]}\n...ignoring\n\nTASK [Set the hostname of the node] ********************************************\nTuesday 07 November 2023  13:34:21.708820 \nchanged: [10.0.0.182_1]\n[DEPRECATION WARNING]: Distribution Ubuntu 18.04 on host 10.0.0.182_1 should \nuse /usr/bin/python3, but is using /usr/bin/python for backward compatibility \nwith prior Ansible releases. A future Ansible release will default to using the\n discovered platform python for this host. See \nhttps://docs.ansible.com/ansible-\ncore/2.11/reference_appendices/interpreter_discovery.html for more information.\n This feature will be removed in version 2.12. Deprecation warnings can be \ndisabled by setting deprecation_warnings=False in ansible.cfg.\n\nTASK [Disable SELinux in REL systems] ******************************************\nTuesday 07 November 2023  13:34:22.790226 \nAn exception occurred during task execution. To see the full traceback, use -vvv. The error was: ModuleNotFoundError: No module named 'selinux'\nfatal: [10.0.0.182_1]: FAILED! => {\"changed\": false, \"msg\": \"Failed to import the required Python library (libselinux-python) on vnode-1.localdomain's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter\"}\n...ignoring\n\nTASK [Add the authorized_key to the nodes] *************************************\nTuesday 07 November 2023  13:34:23.499174 \nchanged: [10.0.0.182_1]\n\nTASK [Add the authorized_key to the nodes again] *******************************\nTuesday 07 November 2023  13:34:24.205993 \nfatal: [10.0.0.182_1]: FAILED! => {\"changed\": false, \"msg\": \"Destination /home/cloudadm/.ssh/authorized_keys does not exist !\", \"rc\": 257}\n...ignoring\n\nTASK [Gather Facts] ************************************************************\nTuesday 07 November 2023  13:34:24.652540 \nok: [10.0.0.182_1]\n\nTASK [Ubuntu apt update] *******************************************************\nTuesday 07 November 2023  13:34:25.810019 \nok: [10.0.0.182_1]\n\nTASK [Ubuntu force apt update (avoid apt lock)] ********************************\nTuesday 07 November 2023  13:34:28.022554 \nskipping: [10.0.0.182_1]\n\nPLAY RECAP *********************************************************************\n10.0.0.182_1               : ok=14   changed=6    unreachable=0    failed=0   \n10.0.0.182_1               : ok=14   changed=6    unreachable=0    failed=0   \n\nTask basic finished successfully\nProcess finished\nContextualization agent output processed successfullyGenerate and copy the ssh key\nSleeping 0 secs.\nLaunch task: main_wn\nCall Ansible\n\nPLAY [allnowindows] ************************************************************\n\nTASK [Gathering Facts] *********************************************************\nTuesday 07 November 2023  13:35:33.936313 \nok: [194.210.120.184_0]\nok: [10.0.0.182_1]\n\nPLAY [10.0.0.182_1] ************************************************************\n\nTASK [include_tasks] ***********************************************************\nTuesday 07 November 2023  13:35:35.115937 \nok: [10.0.0.182_1]\nincluded: /var/tmp/.im/a328a640-7d71-11ee-b27a-76289a2b9aae/utils/tasks/main.yml for 10.0.0.182_1\n\nTASK [Copy the original /etc/hosts] ********************************************\nTuesday 07 November 2023  13:35:35.165808 \nchanged: [10.0.0.182_1]\n\nTASK [Copy the /etc/hosts] *****************************************************\nTuesday 07 November 2023  13:35:35.616342 \nchanged: [10.0.0.182_1]\n\nTASK [Merge /etc/hosts] ********************************************************\nTuesday 07 November 2023  13:35:36.497348 \nchanged: [10.0.0.182_1]\n\nTASK [Copy the /etc/hosts in windows native] ***********************************\nTuesday 07 November 2023  13:35:36.828373 \nskipping: [10.0.0.182_1]\n\nTASK [Set BEARER_TOKEN environment variable] ***********************************\nTuesday 07 November 2023  13:35:36.855207 \nskipping: [10.0.0.182_1]\n\nTASK [debug] *******************************************************************\nTuesday 07 November 2023  13:35:36.899156 \nok: [10.0.0.182_1] => {\n    \"changed\": false,\n    \"msg\": \"Install user requested apps\"\n}\n\nPLAY RECAP *********************************************************************\n10.0.0.182_1               : ok=6    changed=3    unreachable=0    failed=0   \n10.0.0.182_1               : ok=6    changed=3    unreachable=0    failed=0   \n194.210.120.184_0          : ok=1    changed=0    unreachable=0    failed=0   \n194.210.120.184_0          : ok=1    changed=0    unreachable=0    failed=0   \n\nTask main_wn finished successfully\nProcess finished\nContextualization agent output processed successfullyGenerate and copy the ssh key\nSleeping 0 secs.\nLaunch task: wn_wn\nCall Ansible\n\nPLAY [allnowindows] ************************************************************\n\nPLAY [10.0.0.182_1] ************************************************************\n\nTASK [Wait for any possibly running unattended upgrade to finish] **************\nTuesday 07 November 2023  13:36:29.564178 \nchanged: [10.0.0.182_1]\n\nTASK [Install firewalld in Debian systems] *************************************\nTuesday 07 November 2023  13:36:29.653368 \nchanged: [10.0.0.182_1]\n\nTASK [Start firewalld] *********************************************************\nTuesday 07 November 2023  13:36:53.498511 \nok: [10.0.0.182_1]\n\nTASK [Enable VPN subnet in firewalld] ******************************************\nTuesday 07 November 2023  13:36:54.286719 \nchanged: [10.0.0.182_1]\n\nTASK [Install OpenVPN] *********************************************************\nTuesday 07 November 2023  13:36:55.033249 \nchanged: [10.0.0.182_1]\n\nTASK [grycap.openvpn : Include \"Debian\" OpenVPN tasks] *************************\nTuesday 07 November 2023  13:37:13.569730 \nok: [10.0.0.182_1]\nincluded: /etc/ansible/roles/grycap.openvpn/tasks/Debian.yaml for 10.0.0.182_1\n\nTASK [grycap.openvpn : update repositories cache and install openvpn package] ***\nTuesday 07 November 2023  13:37:13.628937 \nok: [10.0.0.182_1]\n\nTASK [grycap.openvpn : Include \"wn\" OpenVPN recipe] ****************************\nTuesday 07 November 2023  13:37:15.332831 \nok: [10.0.0.182_1]\nincluded: /etc/ansible/roles/grycap.openvpn/tasks/wn.yaml for 10.0.0.182_1\n\nTASK [grycap.openvpn : stat] ***************************************************\nTuesday 07 November 2023  13:37:15.400935 \nok: [10.0.0.182_1]\n\nTASK [grycap.openvpn : include] ************************************************\nTuesday 07 November 2023  13:37:15.859461 \nincluded: /etc/ansible/roles/grycap.openvpn/tasks/sudo_copy.yml for 10.0.0.182_1\n\nTASK [grycap.openvpn : command] ************************************************\nTuesday 07 November 2023  13:37:15.952971 \nfailed: [10.0.0.182_1 -> localhost] (item=0) => {\"ansible_loop_var\": \"item\", \"changed\": true, \"cmd\": [\"sudo\", \"cp\", \"-f\", \"/etc/openvpn/easy-rsa/2.0/keys/ca.crt\", \"/tmp/._sudo_cp_ca.crt\"], \"delta\": \"0:00:00.009126\", \"end\": \"2023-11-07 13:37:16.324563\", \"item\": 0, \"msg\": \"non-zero return code\", \"rc\": 1, \"start\": \"2023-11-07 13:37:16.315437\", \"stderr\": \"cp: cannot stat '/etc/openvpn/easy-rsa/2.0/keys/ca.crt': No such file or directory\", \"stderr_lines\": [\"cp: cannot stat '/etc/openvpn/easy-rsa/2.0/keys/ca.crt': No such file or directory\"], \"stdout\": \"\", \"stdout_lines\": []}\n\nPLAY RECAP *********************************************************************\n10.0.0.182_1               : ok=10   changed=4    unreachable=0    failed=1   \n10.0.0.182_1               : ok=10   changed=4    unreachable=0    failed=1   \n\nERROR executing playbook (1/1)\nERROR executing task wn_wn: (1/3)\nSleeping 5 secs.\nLaunch task: wn_wn\nCall Ansible\n\nPLAY [allnowindows] ************************************************************\n\nPLAY [10.0.0.182_1] ************************************************************\n\nTASK [Wait for any possibly running unattended upgrade to finish] **************\nTuesday 07 November 2023  13:37:22.629869 \nchanged: [10.0.0.182_1]\n\nTASK [Install firewalld in Debian systems] *************************************\nTuesday 07 November 2023  13:37:22.738466 \nchanged: [10.0.0.182_1]\n\nTASK [Start firewalld] *********************************************************\nTuesday 07 November 2023  13:37:23.733891 \nok: [10.0.0.182_1]\n\nTASK [Enable VPN subnet in firewalld] ******************************************\nTuesday 07 November 2023  13:37:24.509411 \nok: [10.0.0.182_1]\n\nTASK [Install OpenVPN] *********************************************************\nTuesday 07 November 2023  13:37:25.203097 \nchanged: [10.0.0.182_1]\n\nTASK [grycap.openvpn : Include \"Debian\" OpenVPN tasks] *************************\nTuesday 07 November 2023  13:37:26.264243 \nok: [10.0.0.182_1]\nincluded: /etc/ansible/roles/grycap.openvpn/tasks/Debian.yaml for 10.0.0.182_1\n\nTASK [grycap.openvpn : update repositories cache and install openvpn package] ***\nTuesday 07 November 2023  13:37:26.319177 \nok: [10.0.0.182_1]\n\nTASK [grycap.openvpn : Include \"wn\" OpenVPN recipe] ****************************\nTuesday 07 November 2023  13:37:27.938158 \nok: [10.0.0.182_1]\nincluded: /etc/ansible/roles/grycap.openvpn/tasks/wn.yaml for 10.0.0.182_1\n\nTASK [grycap.openvpn : stat] ***************************************************\nTuesday 07 November 2023  13:37:27.999643 \nok: [10.0.0.182_1]\n\nTASK [grycap.openvpn : include] ************************************************\nTuesday 07 November 2023  13:37:28.452074 \nincluded: /etc/ansible/roles/grycap.openvpn/tasks/sudo_copy.yml for 10.0.0.182_1\n\nTASK [grycap.openvpn : command] ************************************************\nTuesday 07 November 2023  13:37:28.542589 \nfailed: [10.0.0.182_1 -> localhost] (item=0) => {\"ansible_loop_var\": \"item\", \"changed\": true, \"cmd\": [\"sudo\", \"cp\", \"-f\", \"/etc/openvpn/easy-rsa/2.0/keys/ca.crt\", \"/tmp/._sudo_cp_ca.crt\"], \"delta\": \"0:00:00.009418\", \"end\": \"2023-11-07 13:37:28.903918\", \"item\": 0, \"msg\": \"non-zero return code\", \"rc\": 1, \"start\": \"2023-11-07 13:37:28.894500\", \"stderr\": \"cp: cannot stat '/etc/openvpn/easy-rsa/2.0/keys/ca.crt': No such file or directory\", \"stderr_lines\": [\"cp: cannot stat '/etc/openvpn/easy-rsa/2.0/keys/ca.crt': No such file or directory\"], \"stdout\": \"\", \"stdout_lines\": []}\n\nPLAY RECAP *********************************************************************\n10.0.0.182_1               : ok=10   changed=3    unreachable=0    failed=1   \n10.0.0.182_1               : ok=10   changed=3    unreachable=0    failed=1   \n\nERROR executing playbook (1/1)\nERROR executing task wn_wn: (2/3)\nSleeping 20 secs.\nLaunch task: wn_wn\nCall Ansible\n\nPLAY [allnowindows] ************************************************************\n\nPLAY [10.0.0.182_1] ************************************************************\n\nTASK [Wait for any possibly running unattended upgrade to finish] **************\nTuesday 07 November 2023  13:37:50.190417 \nchanged: [10.0.0.182_1]\n\nTASK [Install firewalld in Debian systems] *************************************\nTuesday 07 November 2023  13:37:50.295670 \nchanged: [10.0.0.182_1]\n\nTASK [Start firewalld] *********************************************************\nTuesday 07 November 2023  13:37:51.441907 \nok: [10.0.0.182_1]\n\nTASK [Enable VPN subnet in firewalld] ******************************************\nTuesday 07 November 2023  13:37:52.247554 \nok: [10.0.0.182_1]\n\nTASK [Install OpenVPN] *********************************************************\nTuesday 07 November 2023  13:37:52.917062 \nchanged: [10.0.0.182_1]\n\nTASK [grycap.openvpn : Include \"Debian\" OpenVPN tasks] *************************\nTuesday 07 November 2023  13:37:54.006746 \nok: [10.0.0.182_1]\nincluded: /etc/ansible/roles/grycap.openvpn/tasks/Debian.yaml for 10.0.0.182_1\n\nTASK [grycap.openvpn : update repositories cache and install openvpn package] ***\nTuesday 07 November 2023  13:37:54.068013 \nok: [10.0.0.182_1]\n\nTASK [grycap.openvpn : Include \"wn\" OpenVPN recipe] ****************************\nTuesday 07 November 2023  13:37:55.812626 \nok: [10.0.0.182_1]\nincluded: /etc/ansible/roles/grycap.openvpn/tasks/wn.yaml for 10.0.0.182_1\n\nTASK [grycap.openvpn : stat] ***************************************************\nTuesday 07 November 2023  13:37:55.876394 \nok: [10.0.0.182_1]\n\nTASK [grycap.openvpn : include] ************************************************\nTuesday 07 November 2023  13:37:56.336824 \nincluded: /etc/ansible/roles/grycap.openvpn/tasks/sudo_copy.yml for 10.0.0.182_1\n\nTASK [grycap.openvpn : command] ************************************************\nTuesday 07 November 2023  13:37:56.426026 \nfailed: [10.0.0.182_1 -> localhost] (item=0) => {\"ansible_loop_var\": \"item\", \"changed\": true, \"cmd\": [\"sudo\", \"cp\", \"-f\", \"/etc/openvpn/easy-rsa/2.0/keys/ca.crt\", \"/tmp/._sudo_cp_ca.crt\"], \"delta\": \"0:00:00.012031\", \"end\": \"2023-11-07 13:37:56.804862\", \"item\": 0, \"msg\": \"non-zero return code\", \"rc\": 1, \"start\": \"2023-11-07 13:37:56.792831\", \"stderr\": \"cp: cannot stat '/etc/openvpn/easy-rsa/2.0/keys/ca.crt': No such file or directory\", \"stderr_lines\": [\"cp: cannot stat '/etc/openvpn/easy-rsa/2.0/keys/ca.crt': No such file or directory\"], \"stdout\": \"\", \"stdout_lines\": []}\n\nPLAY RECAP *********************************************************************\n10.0.0.182_1               : ok=10   changed=3    unreachable=0    failed=1   \n10.0.0.182_1               : ok=10   changed=3    unreachable=0    failed=1   \n\nERROR executing playbook (1/1)\nERROR executing task wn_wn: (3/3)\n\n***************************************************************************\n\n\nSecure connection with: https://appsgrycap.i3m.upv.es:31443/im/\nInfrastructure successfully destroyed\nim_client.py destroy return code: 0",
                                    "url": "https://jenkins.eosc-synergy.eu/job/eosc-synergy-org/job/mswss.jepl.assess.sqaaas/job/main/14/execution/node/36/log?consoleFull"
                                },
                                "level": "REQUIRED",
                                "build_repo": "https://github.com/eosc-synergy/mswss.jepl.assess.sqaaas"
                            },
                            "standard": {
                                "title": "A set of Common Software Quality Assurance Baseline Criteria for Research Projects",
                                "version": "v4.0",
                                "url": "https://github.com/indigo-dc/sqa-baseline/releases/tag/v4.0"
                            },
                            "data_unstructured": {}
                        }
                    ],
                    "valid": false,
                    "required_for_next_level_badge": false
                }
            },
            "coverage": {
                "percentage": 0,
                "total_subcriteria": 1,
                "success_subcriteria": 0
            }
        }
    },
    "badge": {
        "services": {
            "criteria": {
                "bronze": {
                    "to_fulfill": [
                        "SvcQC.Dep"
                    ],
                    "missing": [
                        "SvcQC.Dep"
                    ],
                    "fulfilled": []
                },
                "silver": {
                    "to_fulfill": [
                        "SvcQC.Sec",
                        "SvcQC.Dep",
                        "SvcQC.Fun",
                        "SvcQC.Doc"
                    ],
                    "missing": [
                        "SvcQC.Doc",
                        "SvcQC.Dep",
                        "SvcQC.Sec",
                        "SvcQC.Fun"
                    ],
                    "fulfilled": []
                },
                "gold": {
                    "to_fulfill": [
                        "SvcQC.Sec",
                        "SvcQC.Fun",
                        "SvcQC.Int",
                        "SvcQC.Per",
                        "SvcQC.Dep",
                        "SvcQC.Api",
                        "SvcQC.Doc"
                    ],
                    "missing": [
                        "SvcQC.Int",
                        "SvcQC.Sec",
                        "SvcQC.Fun",
                        "SvcQC.Doc",
                        "SvcQC.Dep",
                        "SvcQC.Api",
                        "SvcQC.Per"
                    ],
                    "fulfilled": []
                }
            },
            "data": {}
        }
    }
}